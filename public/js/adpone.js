window.adpone=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(1)),s=a(n(2)),c=a(n(3)),l=function(){function t(t){this.consent=new u.default,this.referrer=new s.default,this.cookieSync=new c.default,this.userId="",this.consentString="",this.data=t}return t.prototype.init=function(){return o(this,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:return this.cookieSync.initPostMessageListener(),this.cookieSync.insertAdponePixel(),t=this,[4,this.consent.getConsent()];case 1:return t.consentString=n.sent(),e=this,[4,this.cookieSync.getUserId()];case 2:return e.userId=n.sent(),this.renderScript(),[2]}})})},Object.defineProperty(t.prototype,"url",{get:function(){var t=r({},this.data);return this.consentString&&(t.gdpr=this.consentString),this.userId&&(t.uid=this.userId),this.referrer.referrer&&(t.referrer=this.referrer.referrer),"https://rtb.adpone.com/ad-request?timestamp="+Date.now()+"&"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")},enumerable:!0,configurable:!0}),t.prototype.renderScript=function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.setAttribute("src",this.url),document.body.appendChild(t)},t}();e.default=l},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.f=window,this.cmpCallbacks=[],this.attempts=0,this.init()}return t.prototype.init=function(){for(;!this.cmpFrame;){try{this.f.frames.__cmpLocator&&(this.cmpFrame=this.f)}catch(t){}if(this.f===window.top)break;this.f=this.f.parent}window.addEventListener("message",this.handlePostMessage.bind(this),!1)},t.prototype.handlePostMessage=function(t){try{var e="string"==typeof t.data?JSON.parse(t.data):t.data;if(e.__cmpReturn){var n=e.__cmpReturn;this.cmpCallbacks[n.callId](n.returnValue,n.success),delete this.cmpCallbacks[n.callId]}}catch(t){}},t.prototype.sendPostMessage=function(t,e,n){if(this.cmpFrame){var r=""+Math.random(),o={__cmpCall:{callId:r,command:t,parameter:e}};this.cmpCallbacks[r]=n,this.cmpFrame.postMessage(o,"*")}else n({msg:"CMP not found"},!1)},t.prototype.getConsent=function(){return r(this,void 0,void 0,function(){var t=this;return o(this,function(e){return[2,new Promise(function(e){var n=setInterval(function(){t.attempts=t.attempts+1,t.sendPostMessage("getConsentData",null,function(r,o){o&&(clearInterval(n),e(r.consentData)),3===t.attempts&&e("")})},500)})]})})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"closestTop",{get:function(){var t=window,e=!1;try{for(;t.parent.document!==t.document;){if(!t.parent.document){e=!0;break}t=t.parent}}catch(t){e=!0}return{topFrame:t,err:e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"referrer",{get:function(){return this.getSiteUrl(this.closestTop)||""},enumerable:!0,configurable:!0}),t.prototype.getSiteUrl=function(t){var e=t.err,n=t.topFrame,r="";if(e)try{try{r=window.top.location.href}catch(t){var o=window.location.ancestorOrigins;r=o[o.length-1]}}catch(t){r=n.document.referrer}else r=n.location.href;return r},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.userId=""}return t.prototype.insertAdponePixel=function(){var t=document.createElement("iframe");t.setAttribute("id","cookie-sync-iframe"),t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("frameBorder","0"),t.setAttribute("style","position: absolute");var e=document.getElementsByTagName("body")[0];e&&e.parentNode&&e.parentNode.insertBefore(t,e),t.setAttribute("src","https://eu-ads.adpone.com/")},t.prototype.initPostMessageListener=function(){var t=this;window.addEventListener("message",function(e){"https://eu-ads.adpone.com"===e.origin&&(console.log(e),t.userId=e.data)},!1)},t.prototype.getUserId=function(){return r(this,void 0,void 0,function(){var t=this;return o(this,function(e){return[2,new Promise(function(e){setInterval(function(){t.userId&&e(t.userId)},500)})]})})},t}();e.default=i}]).default;